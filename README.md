# flycar
FlyCar_Scripts

## スクリプトの説明
以下にて、ゲーム内で使用したスクリプトの簡単な説明を行います。

### **CarGameData.cs**
- リザルトで表示するために保存したデータを管理するスクリプト。

---

### **CameraCarController.cs**
- プレイヤー車両を3D空間で追従するカメラ用スクリプト。
  - プレイヤーのスピードに応じてカメラの追従距離と高さが自動調整。
  - 滑らかな移動と回転で、臨場感あるカメラワークを実現。
  - プレイヤーを見つめながらもカメラの傾きを抑えるLookAt処理。

---

### **Effect.cs**
- `Effect`は、プレイヤーに一時的な効果（バフやデバフ）を与えるための抽象クラス。
  - プレイヤーのスピード上昇。
  - ジャンプ力強化。
  - 一定時間の無敵状態。

---

### **EffectType.cs**
- ゲーム内で使用される「効果（Effect）」の種類を定義した列挙体（enum）。
  - `HealthRecovery`：体力回復。
  - `Invincibility`：一定時間ダメージ無効。
  - `DoublePoints`：スコア獲得量2倍。

---

### **ItemBoxManager.cs**
- プレイヤーがこのアイテムボックスに接触すると：
  - ランダムに1つの `Effect` を取得。
  - プレイヤーにその効果を一時的に適用（例：体力回復、無敵）。
  - 効果内容を画面に表示（TextMeshPro）。
  - 効果時間が終わると自動的に解除。
  - アイテムボックス自体は1回きりで消える（地下に移動後、破棄）。

---

### **ObjectRotater.cs**
- 指定した角度・スピードで、オブジェクトを毎フレーム自動回転させるスクリプト。

---

### **EnemyAttack.cs**
- 敵がプレイヤーに衝突したときの攻撃処理をまとめたスクリプト。
  - プレイヤーに一定のダメージを与える。
  - 衝突した位置にUIエフェクトを生成（2D Canvas上）。
  - ランダムにクラッシュ音を再生。

---

### **CarExhaust.cs**
- 車のスピードに応じて排気煙の量を制御するスクリプト。
  - 車が加速するにつれて排気煙の量が増加し、減速すると煙の量が減ります。
  - 車がアイドル状態（停止）では、最小限の排気煙が発生します。

---

### **CarSoundManager.cs**
- 車の動きに応じてエンジン音を表現するためのスクリプト。
  - 車のスピードに応じてエンジン音のピッチや音量を調整。
  - 加速と減速の際に特定のサウンドを再生します。

---

### **MovementRange.cs**
- 車の移動できる範囲の設定。
  - Colliderを大きく設定し、その範囲を出てしまったら、指定の場所へ移動させる。

---

### **PlayerHealth.cs**
- プレイヤーのHPを管理するスクリプト。
  - プレイヤーの最大HPと現在のHPを管理し、UIのスライダーで表示。
  - ダメージを受けるとHPが減少し、HPバーが更新される。
  - HPが0以下になるとゲームオーバーシーンに遷移。
  - 回復アイテムでHPを回復できる。

---

### **VehicleController.cs**
- 空飛ぶ車の移動するためのスクリプト。
  - プレイヤーの操作と連動して、リアルタイムで制御を行う。
  - 上昇、下降、前進、後退、旋回を行い、スピードをメーターで表示できる。

---

### **PointsManager.cs**
- ゲーム内のポイント管理、クリア条件の表示、ゲームクリア後の処理を行うスクリプト。
  - プレイヤーのポイントを管理し、加算時にアニメーションで表示。
  - クリアポイントに達した場合にゲームクリアシーンに遷移。
  - クリア条件をUIに表示し、アニメーションで進行。

---

### **RingGenerator.cs**
- ゲーム内で指定された範囲内にリングオブジェクトをランダムな位置に生成するスクリプト。
  - `numberOfObjects` の数だけ、指定された範囲 `range` 内でランダムな位置にリングオブジェクトを生成。
  - 生成されるオブジェクトにはランダムな回転が適用されます。
  - 生成されたオブジェクトは、このスクリプトがアタッチされたオブジェクトの子オブジェクトとして配置されます。

---

### **RingTrigger.cs**
- プレイヤーがリングオブジェクトに衝突すると、ポイントが加算され、リングが破壊されるスクリプト。
  - プレイヤーがリングに触れると、設定されたポイントが `PointsManager` に加算されます。
  - 破壊音が再生され、リングが破壊されます。
  - `RingPracticeGenerator` の `ring_count` が減少し、リングの残数が管理されます。

---

### **ClearTextAnimation.cs**
- ゲームのクリア時にテキストのアニメーションを再生するためのスクリプト。
  - 初回のアニメーションは `OnceAnim` トリガーを設定して一度だけ再生されます。
  - `waitTime` 秒後に、`ClearbounceText` アニメーションが再生されます。

---

### **GameTimer.cs**
- このスクリプトは、ゲームのカウントダウンタイマーとゲーム内の時間を管理するために使用されます。
  - ゲーム開始前のカウントダウン（3秒）を表示し、カウントダウン後にゲームを開始します。
  - ゲームプレイ中に残り時間をカウントダウンし、タイマーをUIに表示します。
  - ゲーム終了時には時間切れで「Game Over」シーンに遷移します。
  - ゲームクリア時には、クリア時間を保存する処理が含まれています。

---

#### ゲームプレイ
以下のURLでゲームをプレイすることができます。
https://unityroom.com/games/flyingcar
